<!doctype html>
<html>
  <head></head>
  <body>
    <form id="searchForm" action="/projects/search/" method="GET">
      <label for="minduration">Minimum duration</label>
      <input type="number" name="minduration" value="{{ minduration }}">
      <label for="minduration">Maximum duration</label>
      <input type="number" name="maxduration" value="{{ maxduration }}">
      <label for="maxdistance">Maximum distance</label>
      <input type="number" name="maxdistance" value="{{ maxdistance }}">
      <label for="latitude">Latitude</label>
      <input type="number" name="latitude" value="{{ latitude }}" step="0.000001">
      <label for="longitude">Longitude</label>
      <input type="number" name="longitude" value="{{ longitude }}" step="0.000001">
      <input type="submit" value="Search for projects">
    </form>
    {% for project in projects %}
    <h1>{{ project.title }}</h1>
    <p>{{ project.description }}</p>
    {% endfor %}
    <script src="/static/search.js"></script>
    <script>
      if (window.location.search.substr(1) == "") {
        if ("geolocation" in navigator) {
          navigator.geolocation.getCurrentPosition(function(position) {
            document.getElementsByName("latitude")[0].setAttribute("value", position.coords.latitude);
            document.getElementsByName("longitude")[0].setAttribute("value", position.coords.longitude);
          });
        }
      }
    </script>
  </body>
</html>
